# 芝しごと予報

気象予測から農薬・肥料散布タイミングをアドバイスするWebアプリケーション

## 概要

MET Norwayの気象予報APIを使用して、グリーンキーパー向けに農薬や肥料（固形/液肥）散布に向くタイミングを予報するシステムです。

## 機能

- **散布可能時間帯の判定**: 早朝（4-7時）と夕方（16-19時）の散布適時を判定
- **気象条件のチェック**:
  - 風速チェック（3.5m/s以下推奨）
  - 降雨リスクチェック
  - 気温チェック（5-30度推奨）
- **詳細な警告・推奨事項**:
  - 当日中の降雨予報による流亡リスク警告
  - 高温注意（30度以上3時間以上）
  - 雨後の殺虫剤散布適時推奨
  - 葉面散布肥料用の風速推奨（0.5m/s未満）
- **表形式での見やすい表示**: 今日・明日・明後日の3日間の予報を表形式で表示

## セットアップ

### 必要な環境

- Python 3.7以上
- pip

### インストール手順

1. リポジトリをクローン
```bash
git clone https://github.com/hitoshi4148/spray-forecast.git
cd spray-forecast
```

2. 依存パッケージをインストール
```bash
pip install -r requirements.txt
```

3. アプリケーションを起動
```bash
python app.py
```

4. ブラウザでアクセス
```
http://localhost:5000
```

## 使い方

1. 緯度・経度を入力するか、「現在地を使用」ボタンをクリック
2. 「予報を取得」ボタンをクリック
3. 表形式で散布タイミングが表示されます
   - **GREEN**: 散布推奨 - 条件良好
   - **YELLOW**: 注意 - 条件に注意が必要
   - **RED**: 非推奨 - 散布を避ける

## ファイル構成

```
spray-forecast/
├── app.py              # Flaskアプリケーション
├── config.py           # 設定ファイル
├── requirements.txt    # 依存パッケージ
├── logic/
│   └── spray.py        # 散布判定ロジック
├── weather/
│   └── met.py          # MET Norway API連携
├── templates/
│   └── index.html      # メインHTMLテンプレート
└── static/
    └── style.css       # スタイルシート
```

## 設定

`config.py`で以下の設定を変更できます：

- `EARLY_MORNING`: 早朝の散布可能時間帯（デフォルト: 4-7時）
- `EVENING`: 夕方の散布可能時間帯（デフォルト: 16-19時）
- `MAX_WIND_OK`: 許容される最大風速（デフォルト: 3.5 m/s）
- `MAX_PRECIP_OK`: 許容される最大降水量（デフォルト: 0.2 mm）
- `MAX_TEMP`, `MIN_TEMP`: 許容される気温範囲（デフォルト: 5-30度）

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## データ提供

気象データ提供: [MET Norway](https://www.met.no/)




